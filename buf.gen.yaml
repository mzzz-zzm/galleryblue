# buf.gen.yaml - Full generation (requires Go)
version: v1
managed:
  enabled: true
  go_package_prefix:
    default: github.com/mzzz-zzm/galleryblue/gen/go
plugins:
  # BACKEND (Golang)
  - plugin: go
    out: gen/go
    opt: paths=source_relative

  - plugin: connect-go
    out: gen/go
    opt: paths=source_relative

  # FRONTEND (TypeScript + React)
  - plugin: es
    out: frontend/src/gen
    opt: target=ts
    path: ./frontend/node_modules/.bin/protoc-gen-es

  - plugin: connect-query
    out: frontend/src/gen
    opt: target=ts
    path: ./frontend/node_modules/.bin/protoc-gen-connect-query